{# J'étends le layout de base pour assurer la cohérence de l'interface utilisateur #}
{% extends 'base_bo.html.twig' %}

{# Je définis le titre de la page #}
{% block title %}Tableau de Bord
{% endblock %}

{# Je définis le contenu principal de la page #}
{% block body %}
	{{ encore_entry_link_tags('modal') }}
	<style>
		.messageResetPassword {
			position: relative;
			top: 40%;
			left: 25%;
		}
	</style>

	{% if is_granted("BLOCKED") %}
		{% set visibility =  is_granted("BLOCKED") == true ? 'hidden' : 'visible' %}
		<p>Le compte a été bloqué</p>
		<button type="button" class="btn btn-primary m-5" style="visibility:{{ visibility }}" data-bs-toggle="modal" data-bs-target="#modalWindow">
			Découvrir le modal
		</button>
		<div
			class="modal fade" id="modalWindow" aria-labelledby="modal example" aria-hidden="true" data-bs-keyboard="false" data-bs-backdrop="static">
			<!-- Pour désactiver la sélection extereiure on rajouter les attributs  data-bs-keyboard="false" data-bs-backdrop="static" -->
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<h1 class="modal-title">Message important</h1>
						<input type="button" class="btn btn-close" data-bs-dismiss="modal" aria-label="close"></input>
				</div>
				<div class="modal-body">
					<p>Votre compte est bloqué actuellement, veuillez vous approcher auprès de l'administrateur système</p>
					<h4>Les coordonnées de l'administrateur</h2>
					<ul>
						<li>Email: blabla@email.fr</li>
						<li>Tél: 00000000000</li>
					</ul>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-danger" data-bs-dismiss="modal" aria-label="close">
						Fermer
					</button>
				</div>
			</div>
		</div>
	</div>
{% else %}
	<div class="container mt-4">
		<h1 class="text-center">Tableau de Bord</h1>

		{# Section Objectifs #}
		<section class="my-5">
			<h2>Objectifs</h2>
			{# Contenu dynamique des objectifs #}
		</section>

		{# Section Feedbacks #}
		<section class="my-5">
			<h2>Feedbacks</h2>
			{# Contenu dynamique des feedbacks #}
		</section>

		{# Section État des Équipes #}
		<section class="my-5">
			<h2>État des Équipes</h2>
			{# Contenu dynamique sur l'état des équipes #}
		</section>
	</div>
{% endif %}
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous" defer></script>
{{ encore_entry_script_tags('modal') }}{% endblock %}
